{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahmad\\\\Desktop\\\\Study\\\\4\\\\final project\\\\masterway\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport PropTypes from \"prop-types\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport App from \"../App\";\nimport Forgetmypass from \"./Forgetmypass\";\nimport logo from \"../components/logo 2.png\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API = \"http://localhost:5000\";\n\nasync function loginUser(credentials) {\n  const user = JSON.stringify(credentials); // send the username and password to the server\n\n  await axios.post(`${API}/admins`, user).then(data => data.json()).catch(err => console.log(\"error\"));\n}\n\nexport default function Login(_ref) {\n  _s();\n\n  let {\n    setToken\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [fName, setfName] = useState(\"\");\n  const [user, setUser] = useState();\n  useEffect(() => {\n    const loggedInUser = sessionStorage.getItem(\"user\");\n\n    if (loggedInUser) {\n      const foundUser = JSON.parse(loggedInUser);\n      setUser(foundUser);\n      setfName(foundUser.fName);\n    }\n  }, []);\n\n  const rest = () => {\n    document.getElementById(\"email\").value = \"\";\n    document.getElementById(\"password\").value = \"\";\n    alert(\"Wrong email or Wrong passwod\");\n  }; // const handleSubmit = async (e) => {\n  //   e.preventDefault();\n  //   const user = { fName, email, password };\n  //   // send the username and password to the server\n  //   await axios\n  //     .post(`${API}/admins`, user)\n  //     .then((resp) => {\n  //       setUser(resp.data);\n  //       setfName(resp.data.fName);\n  //       // store the user in localStorage\n  //       sessionStorage.setItem(\"user\", JSON.stringify(resp.data));\n  //       console.log(resp.data);\n  //       const loggedInUser = sessionStorage.getItem(\"user\");\n  //       console.log(loggedInUser);\n  //     })\n  //     .catch((err) => rest());\n  // };\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = await loginUser({\n      email,\n      password\n    });\n    setToken(token);\n  }; // if there's a user show the message below\n\n\n  if (user) {}\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/forgetmypass\",\n          exact: true,\n          component: Forgetmypass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 offset-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card my-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"card-body cardbody-color p-lg-5\",\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo,\n                  className: \"img-fluid profile-image-pic img-thumbnail rounded-circle my-3\",\n                  width: \"200px\",\n                  alt: \"profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  id: \"email\",\n                  \"aria-describedby\": \"emailHelp\",\n                  placeholder: \"Email\",\n                  onChange: _ref2 => {\n                    let {\n                      target\n                    } = _ref2;\n                    return setEmail(target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"password\",\n                  placeholder: \"password\",\n                  onChange: _ref3 => {\n                    let {\n                      target\n                    } = _ref3;\n                    return setPassword(target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-color px-5 mb-5 w-100\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"emailHelp\",\n                className: \"form-text text-center mb-5 text-dark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: `/forgetmypass`\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"info\",\n                  style: {\n                    marginLeft: \"5px\"\n                  },\n                  children: \"Forget my password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"aSgAI8139csVsMIGewuf754LWb4=\");\n\n_c = Login;\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/ahmad/Desktop/Study/4/final project/masterway/src/pages/Login.js"],"names":["React","useState","useEffect","Link","Button","axios","PropTypes","BrowserRouter","Router","Switch","Route","App","Forgetmypass","logo","API","loginUser","credentials","user","JSON","stringify","post","then","data","json","catch","err","console","log","Login","setToken","email","setEmail","password","setPassword","fName","setfName","setUser","loggedInUser","sessionStorage","getItem","foundUser","parse","rest","document","getElementById","value","alert","handleSubmit","e","preventDefault","token","target","pathname","marginLeft","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport App from \"../App\";\r\nimport Forgetmypass from \"./Forgetmypass\";\r\nimport logo from \"../components/logo 2.png\";\r\nimport \"./login.css\";\r\nconst API = \"http://localhost:5000\";\r\n\r\nasync function loginUser(credentials) {\r\n  const user = JSON.stringify(credentials);\r\n  // send the username and password to the server\r\n  await axios\r\n    .post(`${API}/admins`, user)\r\n    .then((data) => data.json())\r\n    .catch((err) => console.log(\"error\"));\r\n}\r\nexport default function Login({ setToken }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [fName, setfName] = useState(\"\");\r\n  const [user, setUser] = useState();\r\n\r\n  useEffect(() => {\r\n    const loggedInUser = sessionStorage.getItem(\"user\");\r\n    if (loggedInUser) {\r\n      const foundUser = JSON.parse(loggedInUser);\r\n      setUser(foundUser);\r\n      setfName(foundUser.fName);\r\n    }\r\n  }, []);\r\n  const rest = () => {\r\n    document.getElementById(\"email\").value = \"\";\r\n    document.getElementById(\"password\").value = \"\";\r\n    alert(\"Wrong email or Wrong passwod\");\r\n  };\r\n\r\n  // const handleSubmit = async (e) => {\r\n  //   e.preventDefault();\r\n  //   const user = { fName, email, password };\r\n  //   // send the username and password to the server\r\n  //   await axios\r\n  //     .post(`${API}/admins`, user)\r\n  //     .then((resp) => {\r\n  //       setUser(resp.data);\r\n  //       setfName(resp.data.fName);\r\n  //       // store the user in localStorage\r\n  //       sessionStorage.setItem(\"user\", JSON.stringify(resp.data));\r\n  //       console.log(resp.data);\r\n  //       const loggedInUser = sessionStorage.getItem(\"user\");\r\n  //       console.log(loggedInUser);\r\n  //     })\r\n  //     .catch((err) => rest());\r\n  // };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = await loginUser({\r\n      email,\r\n      password,\r\n    });\r\n    setToken(token);\r\n  };\r\n\r\n  // if there's a user show the message below\r\n  if (user) {\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/forgetmypass\" exact component={Forgetmypass}></Route>\r\n        </Switch>\r\n      </Router>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <div className=\"card my-5\">\r\n              <form\r\n                className=\"card-body cardbody-color p-lg-5\"\r\n                onSubmit={handleSubmit}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <img\r\n                    src={logo}\r\n                    className=\"img-fluid profile-image-pic img-thumbnail rounded-circle my-3\"\r\n                    width=\"200px\"\r\n                    alt=\"profile\"\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    id=\"email\"\r\n                    aria-describedby=\"emailHelp\"\r\n                    placeholder=\"Email\"\r\n                    onChange={({ target }) => setEmail(target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    id=\"password\"\r\n                    placeholder=\"password\"\r\n                    onChange={({ target }) => setPassword(target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-color px-5 mb-5 w-100\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </div>\r\n                <div\r\n                  id=\"emailHelp\"\r\n                  className=\"form-text text-center mb-5 text-dark\"\r\n                ></div>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/forgetmypass`,\r\n                  }}\r\n                >\r\n                  <Button variant=\"info\" style={{ marginLeft: \"5px\" }}>\r\n                    Forget my password\r\n                  </Button>\r\n                </Link>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}